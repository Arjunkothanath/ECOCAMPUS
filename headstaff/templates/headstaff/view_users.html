{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Users - Head Staff</title>
  <link rel="stylesheet" href="{% static 'headstaff.css' %}">
</head>
<body>

<header>
  <div class="logo">Campus<span>EcoTrack</div>
  <nav>
    <a href="{% url 'headstaff_dashboard' %}">Dashboard</a>
    <a href="{% url 'add_staff_by_head' %}">Add Staff</a>
    <a href="{% url 'manage_staff' %}">Manage Staff</a>
    <a class="active" href="{% url 'headstaff_view_users' %}">View Users</a>
    <a href="{% url 'view_head_feedback' %}">Feedback</a>
    <a href="{% url 'logout_view' %}">Logout</a>
  </nav>
</header>

<main class="dashboard">
  <h1>ðŸ‘¥ All Staff & Students</h1>

<div class="filter-buttons">
  <a href="{% url 'headstaff_view_users' %}" class="{% if not filter_role %}active{% endif %}">All</a>
  <a href="?role=student" class="{% if filter_role == 'student' %}active{% endif %}">Students</a>
  <a href="?role=staff" class="{% if filter_role == 'staff' %}active{% endif %}">Staff</a>
</div>

<table>
  <thead>
    <tr>
      <th>Username</th>
      <th>Email</th>
      <th>Role</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr>
      <td>{{ user.username }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.role|title }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="3">No users found.</td></tr>
    {% endfor %}
  </tbody>
</table>
</main>

</body>
</html>
